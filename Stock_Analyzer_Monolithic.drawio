<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.5">
  <diagram name="Stock Analyzer Flow" id="flow">
    <mxGraphModel dx="1213" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;align=center;verticalAlign=middle;fontSize=20;fontStyle=1" value="Stock Analyzer - Agent Invocation Flow (stock_analyzer.py)" vertex="1">
          <mxGeometry height="40" width="800" x="300" y="20" as="geometry" />
        </mxCell>
        <mxCell id="user" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="User Input: Stock Symbol" vertex="1">
          <mxGeometry height="50" width="300" x="500" y="80" as="geometry" />
        </mxCell>
        <mxCell id="main" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="main() function" vertex="1">
          <mxGeometry height="50" width="300" x="500" y="160" as="geometry" />
        </mxCell>
        <mxCell id="a1" edge="1" parent="1" source="user" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" target="main">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="phase1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=top;" value="PHASE 1: DATA FETCHING" vertex="1">
          <mxGeometry height="140" width="1300" x="50" y="250" as="geometry" />
        </mxCell>
        <mxCell id="a2" edge="1" parent="1" source="main" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" target="phase1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fetch_stock_data" vertex="1">
          <mxGeometry height="40" width="120" x="80" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fetch_historical_data" vertex="1">
          <mxGeometry height="40" width="140" x="230" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fetch_financial_data" vertex="1">
          <mxGeometry height="40" width="130" x="400" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fetch_forecast_data" vertex="1">
          <mxGeometry height="40" width="130" x="560" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f5" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fetch_news_urls" vertex="1">
          <mxGeometry height="40" width="130" x="720" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f6" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fraud_detection_agent" vertex="1">
          <mxGeometry height="40" width="150" x="880" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f7" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="fraud_analysis_agent" vertex="1">
          <mxGeometry height="40" width="150" x="1060" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f8" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" value="generate_stock_summary" vertex="1">
          <mxGeometry height="40" width="160" x="1240" y="290" as="geometry" />
        </mxCell>
        <mxCell id="s1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" value="Google Finance" vertex="1">
          <mxGeometry height="30" width="100" x="90" y="340" as="geometry" />
        </mxCell>
        <mxCell id="s2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" value="StockAnalysis" vertex="1">
          <mxGeometry height="30" width="100" x="250" y="340" as="geometry" />
        </mxCell>
        <mxCell id="s3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" value="StockAnalysis" vertex="1">
          <mxGeometry height="30" width="100" x="415" y="340" as="geometry" />
        </mxCell>
        <mxCell id="s4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" value="StockAnalysis" vertex="1">
          <mxGeometry height="30" width="100" x="575" y="340" as="geometry" />
        </mxCell>
        <mxCell id="s5" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" value="StockAnalysis" vertex="1">
          <mxGeometry height="30" width="100" x="735" y="340" as="geometry" />
        </mxCell>
        <mxCell id="phase2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;verticalAlign=top;" value="PHASE 2: AI ANALYSIS (Azure OpenAI GPT-4)" vertex="1">
          <mxGeometry height="240" width="1300" x="50" y="420" as="geometry" />
        </mxCell>
        <mxCell id="a3" edge="1" parent="1" source="phase1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" target="phase2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ai1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="technical_analysis_agent" vertex="1">
          <mxGeometry height="35" width="160" x="80" y="460" as="geometry" />
        </mxCell>
        <mxCell id="ai2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="fundamental_analysis_agent" vertex="1">
          <mxGeometry height="35" width="180" x="260" y="460" as="geometry" />
        </mxCell>
        <mxCell id="ai3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#b85450;fontStyle=1" value="multi_agent_orchestrator" vertex="1">
          <mxGeometry height="35" width="180" x="460" y="460" as="geometry" />
        </mxCell>
        <mxCell id="ai4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" value="summary_agent" vertex="1">
          <mxGeometry height="30" width="140" x="80" y="520" as="geometry" />
        </mxCell>
        <mxCell id="ai5" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" value="executive_summary_agent" vertex="1">
          <mxGeometry height="30" width="180" x="240" y="520" as="geometry" />
        </mxCell>
        <mxCell id="ai6" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" value="detailed_analysis_agent" vertex="1">
          <mxGeometry height="30" width="170" x="440" y="520" as="geometry" />
        </mxCell>
        <mxCell id="ai7" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" value="investment_recommendation_agent" vertex="1">
          <mxGeometry height="30" width="220" x="630" y="520" as="geometry" />
        </mxCell>
        <mxCell id="ai8" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" value="analyst_synthesis_agent" vertex="1">
          <mxGeometry height="30" width="170" x="870" y="520" as="geometry" />
        </mxCell>
        <mxCell id="ai9" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" value="meta_analysis_agent" vertex="1">
          <mxGeometry height="30" width="160" x="1060" y="520" as="geometry" />
        </mxCell>
        <mxCell id="d1" edge="1" parent="1" source="f2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#0066CC;" target="ai1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d2" edge="1" parent="1" source="f1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#0066CC;" target="ai2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d3" edge="1" parent="1" source="f2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#0066CC;" target="ai2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d4" edge="1" parent="1" source="f3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#0066CC;" target="ai2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d5" edge="1" parent="1" source="f4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#0066CC;" target="ai2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d6" edge="1" parent="1" source="f2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#CC0000;" target="f6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d7" edge="1" parent="1" source="f1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#CC0000;" target="f6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d8" edge="1" parent="1" source="f5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#CC0000;" target="f6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d9" edge="1" parent="1" source="f6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#CC0000;" target="f7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d10" edge="1" parent="1" source="f1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#CC0000;" target="f7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d11" edge="1" parent="1" source="f5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#CC0000;" target="f7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d12" edge="1" parent="1" source="f1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#00CC00;" target="f8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d13" edge="1" parent="1" source="f2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#00CC00;" target="f8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d14" edge="1" parent="1" source="f1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#9900CC;" target="ai3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15" edge="1" parent="1" source="f2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#9900CC;" target="ai3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d16" edge="1" parent="1" source="f5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#9900CC;" target="ai3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d17" edge="1" parent="1" source="f4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#9900CC;" target="ai3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d18" edge="1" parent="1" source="ai1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#9900CC;" target="ai3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d19" edge="1" parent="1" source="ai2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;strokeColor=#9900CC;" target="ai3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d20" edge="1" parent="1" source="ai3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;" target="ai4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="500" />
              <mxPoint x="150" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d21" edge="1" parent="1" source="ai3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;" target="ai5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="500" />
              <mxPoint x="330" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d22" edge="1" parent="1" source="ai3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;" target="ai6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d23" edge="1" parent="1" source="ai3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;" target="ai7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d24" edge="1" parent="1" source="ai3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;" target="ai8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d25" edge="1" parent="1" source="ai3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;" target="ai9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="desc1" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontStyle=2" value="Calculates SMA, EMA, RSI, MACD, Bollinger Bands" vertex="1">
          <mxGeometry height="20" width="300" x="80" y="570" as="geometry" />
        </mxCell>
        <mxCell id="desc2" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontStyle=2" value="Analyzes PE ratio, ROE, revenue growth, debt levels" vertex="1">
          <mxGeometry height="20" width="300" x="80" y="590" as="geometry" />
        </mxCell>
        <mxCell id="desc3" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontStyle=2" value="Orchestrates 6 specialized summary agents" vertex="1">
          <mxGeometry height="20" width="300" x="80" y="610" as="geometry" />
        </mxCell>
        <mxCell id="phase3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" value="PHASE 3: PDF GENERATION (ReportLab)" vertex="1">
          <mxGeometry height="80" width="1300" x="50" y="690" as="geometry" />
        </mxCell>
        <mxCell id="a4" edge="1" parent="1" source="phase2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" target="phase3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pdf" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;fontSize=12;fontStyle=1" value="generate_pdf_report" vertex="1">
          <mxGeometry height="40" width="200" x="400" y="720" as="geometry" />
        </mxCell>
        <mxCell id="lib" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;fontSize=10;" value="ReportLab" vertex="1">
          <mxGeometry height="30" width="100" x="630" y="725" as="geometry" />
        </mxCell>
        <mxCell id="output" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#cdeb8b;strokeColor=#36393d;" value="OUTPUT: Stock Analysis PDF Report" vertex="1">
          <mxGeometry height="50" width="500" x="350" y="800" as="geometry" />
        </mxCell>
        <mxCell id="a5" edge="1" parent="1" source="phase3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" target="output">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="legend" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;" value="LEGEND" vertex="1">
          <mxGeometry height="150" width="400" x="50" y="880" as="geometry" />
        </mxCell>
        <mxCell id="leg1" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10" value="Technical Analysis" vertex="1">
          <mxGeometry height="20" width="150" x="90" y="910" as="geometry" />
        </mxCell>
        <mxCell id="leg1a" edge="1" parent="1" style="endArrow=classic;html=1;dashed=1;strokeColor=#0066CC;strokeWidth=2;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="70" y="920" as="sourcePoint" />
            <mxPoint x="85" y="920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg2" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10" value="Fundamental Analysis" vertex="1">
          <mxGeometry height="20" width="150" x="90" y="935" as="geometry" />
        </mxCell>
        <mxCell id="leg2a" edge="1" parent="1" style="endArrow=classic;html=1;dashed=1;strokeColor=#CC0000;strokeWidth=2;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="70" y="945" as="sourcePoint" />
            <mxPoint x="85" y="945" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg3" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10" value="Fraud Detection/Analysis" vertex="1">
          <mxGeometry height="20" width="150" x="90" y="960" as="geometry" />
        </mxCell>
        <mxCell id="leg3a" edge="1" parent="1" style="endArrow=classic;html=1;dashed=1;strokeColor=#00CC00;strokeWidth=2;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="70" y="970" as="sourcePoint" />
            <mxPoint x="85" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg4" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10" value="Orchestrator Data Flow" vertex="1">
          <mxGeometry height="20" width="150" x="90" y="985" as="geometry" />
        </mxCell>
        <mxCell id="leg4a" edge="1" parent="1" style="endArrow=classic;html=1;dashed=1;strokeColor=#9900CC;strokeWidth=2;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="70" y="995" as="sourcePoint" />
            <mxPoint x="85" y="995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg5" parent="1" style="text;html=1;align=left;verticalAlign=middle;fontSize=10" value="Agent Invocations" vertex="1">
          <mxGeometry height="20" width="150" x="90" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="leg5a" edge="1" parent="1" style="endArrow=classic;html=1;strokeColor=#666666;strokeWidth=2;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="70" y="1020" as="sourcePoint" />
            <mxPoint x="85" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="note1" parent="1" style="text;html=1;align=center;verticalAlign=middle;fontSize=11;fontStyle=2" value="11 Total AI Agents: 2 Core Agents + 6 Orchestrated Agents + 2 Fraud Agents + 1 Summary Agent" vertex="1">
          <mxGeometry height="30" width="600" x="480" y="900" as="geometry" />
        </mxCell>
        <mxCell id="note2" parent="1" style="text;html=1;align=center;verticalAlign=middle;fontSize=11;fontStyle=2" value="Monolithic Architecture: 2793 lines, Sequential Execution" vertex="1">
          <mxGeometry height="30" width="600" x="480" y="930" as="geometry" />
        </mxCell>
        <mxCell id="note3" parent="1" style="text;html=1;align=center;verticalAlign=middle;fontSize=11;fontStyle=2" value="12 Azure OpenAI GPT-4 API Calls Total" vertex="1">
          <mxGeometry height="30" width="600" x="480" y="960" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
